import{RewardMap,QLearningAgent}from"./qlearning.js";Vue.component("q-learning-tab",{template:'<div id="outer">\n\t\t\t\t<button @click="episode" type="button">Explore</button>\n\t\t\t\t<div id="qlearningMap">\n\t\t\t\t<template v-for="i in stringToNum(row)">\n\t\t\t\t<div v-for="j in stringToNum(column)" :class="styleTile(i - 1, j - 1)" :id="matrixId(i - 1, j - 1)">\n\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t    </div>\n\t\t\t\t</div>',data:function(){return{cliffs:["2x1","2x2","1x1"],reward:"2x3",start:"2x0",row:"3",column:"4",agent:new QLearningAgent(new RewardMap(3,4,["2x1","2x2","1x1"],"2x3"),"2x0"),epsilon:.5,alpha:.5,gamma:.7,movement:null,exploring:!1}},methods:{stringToNum:function(t){return parseInt(t,10)},matrixId:function(t,e){return t.toString()+"x"+e.toString()},styleTile:function(t,e){var i=this.matrixId(t,e),n=this.agent.map.matrix[i];return-100==n&&i==this.agent.state?"tile--robot--falling":100==n&&i==this.agent.state?"tile--robot--winning":i==this.agent.state?"tile--agent":100==n?"tile--reward":-100==n?"tile--cliff":"tile"},explore:function(){this.agent.move(this.epsilon),this.agent.updateQ(this.alpha,this.gamma),this.agent.state=this.agent.nextState,this.cliffs.includes(this.agent.state)&&(console.log("AAAAWWWWW"),clearInterval(this.movement),this.exploring=!1),this.agent.state==this.reward&&(clearInterval(this.movement),this.exploring=!1)},episode:function(){0==this.exploring&&(this.agent.state=this.agent.initialPosition,this.movement=setInterval(this.explore,200),this.exploring=!0)}}});