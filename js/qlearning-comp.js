import{RewardMap,QLearningAgent}from"./qlearning.js";Vue.component("q-learning-tab",{template:'<div id="outer">\n\t\t\t\t<button @click="episode" type="button">Explore</button>\n\t\t\t\t<div id="qlearningMap">\n\t\t\t\t<template v-for="i in stringToNum(row)">\n\t\t\t\t<div :class="styleTile(i - 1, j - 1)" :id="matrixId(i - 1, j - 1)" v-for="j in stringToNum(column)">\n\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t    </div>\n\t\t\t\t</div>',data:function(){return{agent:new QLearningAgent(new RewardMap(3,4)),row:"3",column:"4",epsilon:.5,alpha:.5,gamma:.7,movement:null,exploring:!1}},methods:{stringToNum:function(t){return parseInt(t,10)},matrixId:function(t,e){return t.toString()+"x"+e.toString()},styleTile:function(t,e){var n=this.matrixId(t,e),i=this.agent.map.matrix[n];return-100==i&&n==this.agent.state?"tile--robot--falling":100==i&&n==this.agent.state?"tile--robot--winning":n==this.agent.state?"tile--agent":100==i?"tile--reward":-100==i?"tile--cliff":"tile"},explore:function(){this.agent.move(this.epsilon),this.agent.updateQ(this.alpha,this.gamma),this.agent.state=this.agent.nextState,"2x1"!=this.agent.state&&"2x2"!=this.agent.state||(console.log("AAAAWWWWW"),clearInterval(this.movement),this.exploring=!1),"2x3"==this.agent.state&&(clearInterval(this.movement),this.exploring=!1)},episode:function(){0==this.exploring&&(this.agent.state=this.agent.initialPosition,this.movement=setInterval(this.explore,200),this.exploring=!0)}}});