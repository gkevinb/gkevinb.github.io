import{RewardMap,QLearningAgent}from"./qlearning.js";Vue.component("q-learning-tab",{template:'<div id="outer">\n                <button @click="episode" type="button">Explore</button>\n                <p>Epsilon: {{ epsilon }}</p>\n                <input type="range" min="0" max="1" value="0.5" step="0.1" class="slider" id="epsi" v-model="epsilon">\n                <p>Alpha: {{ alpha }}</p>\n                <input type="range" min="0" max="1" value="0.5" step="0.1" class="slider" id="alph" v-model="alpha">\n                <p>Gamma: {{ gamma }}</p>\n                <input type="range" min="0" max="1" value="0.7" step="0.1" class="slider" id="gamm" v-model="gamma">\n\t\t\t\t<div id="qlearningMap">\n\t\t\t\t<template v-for="i in stringToNum(row)">\n\t\t\t\t<div v-for="j in stringToNum(column)" :class="styleTile(i - 1, j - 1)" :id="matrixId(i - 1, j - 1)">\n\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t    </div>\n\t\t\t\t</div>',data:function(){return{cliffs:["2x1","2x2"],reward:"2x3",start:"2x0",row:"3",column:"4",agent:new QLearningAgent(new RewardMap(3,4,["2x1","2x2"],"2x3"),"2x0"),epsilon:.5,alpha:.5,gamma:.7,movement:null,exploring:!1}},methods:{stringToNum:function(t){return parseInt(t,10)},matrixId:function(t,e){return t.toString()+"x"+e.toString()},styleTile:function(t,e){var n=this.matrixId(t,e),i=this.agent.map.matrix[n];return-100==i&&n==this.agent.state?"tile--robot--falling":100==i&&n==this.agent.state?"tile--robot--winning":n==this.agent.state?"tile--agent":100==i?"tile--reward":-100==i?"tile--cliff":"tile"},explore:function(){this.agent.move(this.epsilon),this.agent.updateQ(this.alpha,this.gamma),this.agent.state=this.agent.nextState,this.cliffs.includes(this.agent.state)&&(console.log("AAAAWWWWW"),clearInterval(this.movement),this.exploring=!1),this.agent.state==this.reward&&(clearInterval(this.movement),this.exploring=!1)},episode:function(){0==this.exploring&&(this.agent.state=this.agent.initialPosition,this.movement=setInterval(this.explore,200),this.exploring=!0)}}});